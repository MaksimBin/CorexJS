<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Corex Docs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    :root{
      --bg:#0A0A0A;
      --panel:#111111;
      --text:#00CC99;
      --blue:#1E90FF;
      --gold:#FFD700;
      --comment:#888888;
      --radius:12px;
    }
    *{box-sizing:border-box}
    body {
      font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      margin: 0;
      padding: 0;
      line-height: 1.65;
    }
    header { text-align:center; padding:30px 15px; }
    header img { width:100px; max-width:30%; border-radius:var(--radius); }
    h1,h2,h3{ color:var(--blue); text-shadow:0 0 10px var(--text); margin:0.3em 0; }
    p{ margin:0.6em 0; }
    nav { text-align:center; padding:10px; }
    nav a { color:var(--text); margin:0 10px; text-decoration:none; font-weight:700; }
    section { padding:20px; max-width:1000px; margin:20px auto; border-radius:var(--radius); box-shadow:0 0 15px var(--text); background:transparent; }

    /* –ö–æ–¥ –∏ –ø–æ–¥—Å–≤–µ—Ç–∫–∞ */
    pre {
      padding:16px 18px;
      border-radius:var(--radius);
      overflow-x:auto; /* –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
      -webkit-overflow-scrolling:touch;
      font-family:Consolas, Menlo, monospace;
      background:var(--panel);
      box-shadow:0 0 15px var(--text);
      color:#fff;
    }
    code{ font-size:0.92em; white-space:pre; }
    .keyword{ color:var(--blue); font-weight:700; }
    .string{ color:var(--gold); }
    .function{ color:var(--text); }
    .comment{ color:var(--comment); font-style:italic; }
    .number{ color:#B084EB; }
    .boolean{ color:#FF7F7F; }
    .operator{ color:#9CDCFE; }

    /* API –∫–∞—Ä—Ç–æ—á–∫–∏ */
    .api-block{ margin:12px 0; border-radius:var(--radius); box-shadow:0 0 10px var(--text); overflow:hidden; }
    .api-btn{ width:100%; background:var(--blue); color:#fff; font-weight:bold; padding:12px; border:none; text-align:left; cursor:pointer; font-size:1em; }
    .api-content{ display:none; padding:12px; background:var(--panel); color:var(--text); }
    .api-block.active .api-content{ display:block; }

    footer {
      text-align:center; padding:15px; color:var(--text);
      text-shadow:0 0 10px var(--text); border-radius:var(--radius);
      margin:30px auto; max-width:1000px;
    }
    @media (max-width:720px){
      h1{font-size:1.6em}
      nav{display:flex; flex-wrap:wrap; justify-content:center; gap:8px}
      nav a{margin:0 6px; font-size:0.9em}
      section{padding:16px; margin:14px auto}
      pre,code{font-size:0.86em}
    }
  </style>
</head>
<body>

<header>
  <h1>üß† Corex</h1>
  <p>–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ç–µ–π—Ç‚Äë–º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è Core</p>
  <p>‚ö° –†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, –¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä—è–º–æ –∏–∑ Core</p>
</header>

<nav>
  <a href="#start">–°—Ç–∞—Ä—Ç</a>
  <a href="#examples">–ü—Ä–∏–º–µ—Ä—ã</a>
  <a href="#api">API</a>
</nav>

<section id="start">
  <h2>üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
  <p>Corex –≤—Å—Ç—Ä–æ–µ–Ω –≤ Core –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞–ø—Ä—è–º—É—é ‚Äî –Ω–∏–∫–∞–∫–∏—Ö –ª–∏—à–Ω–∏—Ö –ø–∞–∫–µ—Ç–æ–≤ –∏–ª–∏ —Å–±–æ—Ä–∫–∏.</p>
  <pre><code><span class="comment">// —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</span>
<span class="keyword">import</span> { createStore, StoreProvider, useStore } <span class="keyword">from</span> <span class="string">"core/corex"</span>;
</code></pre>
</section>

<section id="examples">
  <h2>üîó –ü—Ä–∏–º–µ—Ä—ã —Å—Ç–µ–π—Ç–∞</h2>

  <h3>–°—á—ë—Ç—á–∏–∫</h3>
  <pre><code><span class="keyword">function</span> <span class="function">counterReducer</span>(state, action) {
  <span class="keyword">switch</span>(action.type){
    <span class="keyword">case</span> <span class="string">"increment"</span>: <span class="keyword">return</span> { count: state.count <span class="operator">+</span> <span class="number">1</span> };
    <span class="keyword">case</span> <span class="string">"decrement"</span>: <span class="keyword">return</span> { count: state.count <span class="operator">-</span> <span class="number">1</span> };
    <span class="keyword">default</span>: <span class="keyword">return</span> state;
  }
}
<span class="keyword">const</span> counterStore <span class="operator">=</span> <span class="function">createStore</span>(counterReducer, { count: <span class="number">0</span> });
</code></pre>

  <h3>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
  <pre><code><span class="keyword">function</span> <span class="function">authReducer</span>(state, action) {
  <span class="keyword">switch</span>(action.type){
    <span class="keyword">case</span> <span class="string">"login"</span>: <span class="keyword">return</span> { user: action.payload };
    <span class="keyword">case</span> <span class="string">"logout"</span>: <span class="keyword">return</span> { user: <span class="keyword">null</span> };
    <span class="keyword">default</span>: <span class="keyword">return</span> state;
  }
}
<span class="keyword">const</span> authStore <span class="operator">=</span> <span class="function">createStore</span>(authReducer, { user: <span class="keyword">null</span> });
</code></pre>

  <h3>UI‚Äë—Å–æ—Å—Ç–æ—è–Ω–∏–µ</h3>
  <pre><code><span class="keyword">function</span> <span class="function">uiReducer</span>(state, action) {
  <span class="keyword">switch</span>(action.type){
    <span class="keyword">case</span> <span class="string">"openModal"</span>: <span class="keyword">return</span> { <span class="operator">...</span>state, modalOpen: <span class="keyword">true</span> };
    <span class="keyword">case</span> <span class="string">"closeModal"</span>: <span class="keyword">return</span> { <span class="operator">...</span>state, modalOpen: <span class="keyword">false</span> };
    <span class="keyword">default</span>: <span class="keyword">return</span> state;
  }
}
<span class="keyword">const</span> uiStore <span class="operator">=</span> <span class="function">createStore</span>(uiReducer, { modalOpen: <span class="keyword">false</span> });
</code></pre>

  <h3>–î–∞–Ω–Ω—ã–µ</h3>
  <pre><code><span class="keyword">function</span> <span class="function">dataReducer</span>(state, action) {
  <span class="keyword">switch</span>(action.type){
    <span class="keyword">case</span> <span class="string">"setData"</span>: <span class="keyword">return</span> { <span class="operator">...</span>state, items: action.payload };
    <span class="keyword">default</span>: <span class="keyword">return</span> state;
  }
}
<span class="keyword">const</span> dataStore <span class="operator">=</span> <span class="function">createStore</span>(dataReducer, { items: [] });
</code></pre>

  <h3>Middleware</h3>
  <pre><code><span class="keyword">const</span> logger <span class="operator">=</span> ({ getState }) <span class="operator">=&gt;</span> next <span class="operator">=&gt;</span> action <span class="operator">=&gt;</span> {
  console.log(<span class="string">"dispatching"</span>, action);
  <span class="keyword">const</span> result <span class="operator">=</span> next(action);
  console.log(<span class="string">"next state"</span>, getState());
  <span class="keyword">return</span> result;
};
</code></pre>

  <h3>Async Actions</h3>
  <pre><code><span class="keyword">const</span> fetchData <span class="operator">=</span> () <span class="operator">=&gt;</span> <span class="keyword">async</span> (dispatch) <span class="operator">=&gt;</span> {
  <span class="keyword">const</span> data <span class="operator">=</span> <span class="keyword">await</span> fetch(<span class="string">"/api/value"</span>).then(r <span class="operator">=&gt;</span> r.json());
  dispatch({ type: <span class="string">"setData"</span>, payload: data });
};
</code></pre>

  <h3>–°–≤—è–∑–∫–∞ auth + counter</h3>
  <pre><code><span class="comment">// —Å—á—ë—Ç—á–∏–∫ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</span>
<span class="keyword">function</span> <span class="function">Counter</span>() {
  <span class="keyword">const</span> user  <span class="operator">=</span> <span class="function">useStore</span>(s <span class="operator">=&gt;</span> s.user,  authStore);
  <span class="keyword">const</span> count <span class="operator">=</span> <span class="function">useStore</span>(s <span class="operator">=&gt;</span> s.count, counterStore);

  <span class="keyword">if</span> (<span class="operator">!</span>user) <span class="keyword">return</span> <span class="string">&lt;p&gt;–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å—á—ë—Ç—á–∏–∫–æ–º&lt;/p&gt;</span>;

  <span class="keyword">return</span> (
    <span class="string">&lt;div&gt;
      &lt;p&gt;–°—á—ë—Ç—á–∏–∫: {count}&lt;/p&gt;
      &lt;button onClick={() =&gt; counterStore.dispatch({ type: "increment" })}&gt;+&lt;/button&gt;
      &lt;button onClick={() =&gt; counterStore.dispatch({ type: "decrement" })}&gt;-&lt;/button&gt;
    &lt;/div&gt;</span>
  );
}
</code></pre>
</section>

<section id="api">
  <h2>üìò API –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h2>
  <p>–í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∏–∑ <strong>"core/corex"</strong>. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É, —á—Ç–æ–±—ã —Ä–∞—Å–∫—Ä—ã—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä—ã.</p>

  <div class="api-block">
    <button class="api-btn">createStore(reducer, initialState, middleware?)</button>
    <div class="api-content">
      <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> –°–æ–∑–¥–∞—ë—Ç —Å—Ç–æ—Ä: —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —ç–∫—à–µ–Ω—ã, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç middleware –∏ async‚Äëdispatch.</p>
      <pre><code>const store = createStore(reducer, { x: 0 }, [logger])</code></pre>
    </div>
  </div>

  <div class="api-block">
    <button class="api-btn">store.getState()</button>
    <div class="api-content">
      <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç–æ—Ä–∞ –±–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏.</p>
      <pre><code>const x = store.getState().x</code></pre>
    </div>
  </div>

  <div class="api-block">
    <button class="api-btn">store.dispatch(action)</button>
    <div class="api-content">
      <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —ç–∫—à–µ–Ω. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ (thunk‚Äë–ø–æ–¥–æ–±–Ω—ã–µ async –¥–µ–π—Å—Ç–≤–∏—è).</p>
      <pre><code>store.dispatch({ type: "increment" })
store.dispatch(fetchData())</code></pre>
    </div>
  </div>

  <div class="api-block">
    <button class="api-btn">useStore(selector, store?)</button>
    <div class="api-content">
      <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —á–∞—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ï—Å–ª–∏ <code>store</code> –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–æ—Ä –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.</p>
      <pre><code>const count = useStore(s => s.count)
const user  = useStore(s => s.user, authStore)</code></pre>
    </div>
  </div>

  <div class="api-block">
    <button class="api-btn">StoreProvider</button>
    <div class="api-content">
      <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—Ç–æ—Ä –≤–Ω–∏–∑ –ø–æ –¥–µ—Ä–µ–≤—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç.</p>
      <pre><code>&lt;StoreProvider store={counterStore}&gt;
  &lt;App /&gt;
&lt;/StoreProvider&gt;</code></pre>
    </div>
  </div>

  <div class="api-block">
    <button class="api-btn">Middleware</button>
    <div class="api-content">
      <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> –§—É–Ω–∫—Ü–∏–∏-–ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ —ç–∫—à–µ–Ω–æ–≤: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, —Å–∞–π–¥‚Äë—ç—Ñ—Ñ–µ–∫—Ç—ã.</p>
      <pre><code>const logger = ({getState}) => next => action => {
  console.log("dispatching", action)
  const result = next(action)
  console.log("next state", getState())
  return result
}</code></pre>
    </div>
  </div>

  <div class="api-block">
    <button class="api-btn">Async dispatch</button>
    <div class="api-content">
      <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> –ï—Å–ª–∏ –≤ <code>dispatch</code> –ø–µ—Ä–µ–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –æ–Ω–∞ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ –∫–∞–∫ <code>(dispatch, getState)</code> ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏.</p>
      <pre><code>store.dispatch(async (dispatch, getState) => {
  const data = await fetch("/api/value").then(r => r.json())
  dispatch({ type: "setData", payload: data })
})</code></pre>
    </div>
  </div>
</section>

<footer>
  üíô –õ–∏—Ü–µ–Ω–∑–∏—è: MIT ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ, —É–ª—É—á—à–∞–π—Ç–µ –∏ –¥–µ–ª–∏—Ç–µ—Å—å.
</footer>

<script>
  // –†–∞—Å–∫—Ä—ã—Ç–∏–µ API –∫–∞—Ä—Ç–æ—á–µ–∫
  document.querySelectorAll('.api-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      btn.parentElement.classList.toggle('active');
    });
  });
</script>

</body>
      </html>
